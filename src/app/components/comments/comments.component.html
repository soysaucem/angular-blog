<ng-container *ngIf="comments$">

  <h3 class="comment-header">Comments</h3>
  <ul id="comment-list" class="comments-list">
    <li class="comment" *ngFor="let comment of comments$ | async; let i = index">
      <div class="comment-title">
        <label>{{comment.email | titlecase}}</label>
        <div class="dropdown-menu">
          <a class="menu-button fa fa-ellipsis-h" (click)="toggleMenuButton.press({ event: $event })"></a>
          <div class="dropdown-option" style="display: none">
            <label class = "option" (click)="toggleEditButton.press({ event: $event })">Edit</label>
            <label class = "option" (click)="deleteCommentButton.press({ id: comment.id, event: $event })">Delete</label>
          </div>
        </div>
      </div>
      <div class="wrapper-comment-content">
        <p class="comment-content">{{comment.body}}</p>
      </div>
      <button class="edited-comment-submission" style="display: none;" (click)="updateCommentButton.press({ comment: comment, event: $event })">Update</button>
    </li>
  </ul>

</ng-container>

<div class="wrapper-post-comment">
  <input id="user-email" class="email-receiver" #userEmail type="email" 
    placeholder="Enter your email"/>
  <textarea id="user-comment" class="comment-receiver" #commentContent type="text"></textarea>
  <button class="comment-submission" (click)="addCommentButton.press({ postId: activatedRoute.snapshot.paramMap.get('id'), email: userEmail.value, body: commentContent.value }); userEmail.value = ''; commentContent.value = '';">
    Publish
  </button>
</div>
